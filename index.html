<html>
<head>
    <title>Support Vector Machine in Javascript</title>

    <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
    <script src="lib/underscore/underscore.js"></script>
    <script src="lib/d3/d3.min.js"></script>
    <script src="lib/WorkerConsole/WorkerConsole.js"></script>
    <script src="lib/parallel/Parallel.js"></script>
    <script src="lib/shims/requestAniFrame.js"></script>

    <script src="svm/base/Generic.js"></script>


    <script src="svm/kernels/LinearKernel.js"></script>
    <script src="svm/kernels/GaussianKernel.js"></script>
    <script src="svm/kernels/LaplacianKernel.js"></script>
    <script src="svm/kernels/TensorKernel.js"></script>
    <script src="svm/kernels/TStudentKernel.js"></script>
    <script src="svm/kernels/SquaredSincKernel.js"></script>
    <script src="svm/kernels/SigmoidKernel.js"></script>
    <script src="svm/kernels/PolynominalKernel.js"></script>
    <script src="svm/kernels/HistogramIntersectionKernel.js"></script>
    <script src="svm/kernels/SymmetricTriangleKernel.js"></script>
    <script src="svm/kernels/SplineKernel.js"></script>
    <script src="svm/kernels/SphericalKernel.js"></script>
    <script src="svm/kernels/CauchyKernel.js"></script>
    <script src="svm/kernels/BesselKernel.js"></script>
    <script src="svm/kernels/WaveletKernel.js"></script>
    <script src="svm/kernels/WaveKernel.js"></script>
    <script src="svm/renderers/Renderer.js"></script>
    <script src="svm/renderers/D3.js"></script>
    <script src="svm/renderers/Canvas.js"></script>
    <script src="svm/renderers/WebGL.js"></script>
    <script src="svm/learning/SequentialMinimalOptimization.js"></script>
    <script src="svm/utils/helpers.js"></script>

    <script src="svm/SupportVectorMachine.js"></script>



    <style>



        body {
            font: 10px sans-serif;
        }

        .axis path,
        .axis line {
            fill: none;
            stroke: #000;
            shape-rendering: crispEdges;
        }

        .dot {
            stroke: #000;
        }


    </style>
</head>

<body>
<script type="text/javascript">

    var labels = [];
    var inputs = [];

    inputs[0] = [-0.4326  , 1.1909 ];
    inputs[1] = [3.0, 4.0];
    inputs[2] = [0.1253 , -0.0376];
    inputs[3] = [0.2877 , 0.3273  ];
    inputs[4] = [-1.1465 , 0.1746 ];
    inputs[5] = [1.8133 , 2.1139  ];
    inputs[6] = [2.7258 , 3.0668  ];
    inputs[7] = [1.4117 , 2.0593  ];
    inputs[8] = [4.1832 , 1.9044  ];
    inputs[9] = [1.8636 , 1.1677  ];

    labels[0] = 1;
    labels[1] = 1;
    labels[2] = 1;
    labels[3] = 1;
    labels[4] = 1;
    labels[5] = -1;
    labels[6] = -1;
    labels[7] = -1;
    labels[8] = -1;
    labels[9] = -1;

    var kernels = [
        new SVM.Kernels.BesselKernel(),
        new SVM.Kernels.WaveKernel()
    ];
    var machine = new SVM.Engine.KernelSupportVectorMachine(new SVM.Kernels.BesselKernel(), inputs[0].length),
            smo = new SVM.Learning.SequentialMinimalOptimization(machine, inputs, labels);

    smo.run();




    /**
     *
     if(decision > 0)
     {

         ClassA.push(SVM.Generic.Tuple.create(x, y));
     }
     else
     {
         ClassB.push(SVM.Generic.Tuple.create(x, y));
     }
     * @type {number}
     */

    var xMax = window.innerWidth,
        yMax = window.innerWidth,
        density = 4;

    var a = [], b = [];
    for(var x = 0.0; x <= xMax; x += density)
    {
        for(var y = 0.0; y <= yMax; y += density)
        {
            var vector = [x, y],
                decision = smo.machine.compute(vector);
                decision? a.push(vector) : b.push(vector);
        }
    }

    var graph = new SVM.Renderer.Canvas({
        width: xMax,
        height: yMax
    });

    graph
        .drawBackground(a,'rgb(150,250,150)')
        .drawBackground(b)
        .drawDataPoints(smo)
        .drawAxis()
        .drawStatus(smo);
       // .drawDecisionBoundaryAndMarginLines(smo)
</script>
</body>
</html>
